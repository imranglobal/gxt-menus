gxt-menus
=========

This plugin will ensure better caching around the final markup of the menus. Also adds extra ability to configure the cache that is generated by this plugin.

This plugin enables a drop in replacement for [wp_nav_menu()](http://codex.wordpress.org/Function_Reference/wp_nav_menu) by using gxt_nav_menu(). 



###Usage:
```
$args = array( 
              'theme_location' => 'primary', 
              'items_wrap' => '<ul><li id="item-id">Menu: </li>%3$s</ul>'
              );
gxt_nav_menu( $args );
              
```

###Additional parameters:
Alongside the regular parameters of [wp_nav_menu()](http://codex.wordpress.org/Function_Reference/wp_nav_menu) there are 3 other parameters that can be passed into gxt_nav_menu().

```
$args = array(
              'vary_by_url'    => TRUE,
              'vary_on_single' => FALSE,
              'vary_by_key'    => FALSE
        );

```

#####$vary_by_url

This parameter ensures that a new menu cache is generated for every page. For best results set to FALSE (default: TRUE).
Can be set to TRUE conditionally on certain pages too. Use when "current item" of menu is not needed.

Example: New cache on category pages only
```
$args['vary_by_url'] = is_category() ? TRUE : FALSE;
```

#####$vary_on_single

$vary_by_url is ineffective on single pages. This additional setting can be used to vary cache on single pages ( Default: FALSE ). This will not work when $vary_by_url is set to FALSE. Can be conditionally set certain single pages.

Example: New cache for all 'book' custom post_type single pages
```
$args['vary_on_single'] = is_singular( 'book' ) ? TRUE : FALSE;
```

#####$vary_by_key

Some Wordpress installs are set up to display the pages based on cookies, user-agents etc. Pass those values into this parameter.

```
$args['vary_by_key'] = $_COOKIE['location'];
// OR
$args['vary_by_key'] = $_SERVER['HTTP_USER_AGENT'];
```


